# 管理者画面改善スキル

## 概要
admin.htmlの現状と改善課題を記録。

## 現状の機能

### 実装済み
1. **統計ダッシュボード**
   - 総登録数
   - 今月の登録数
   - ユーザー数
   - 物件数

2. **承認待ちタブ** (v1.2.0で追加、デフォルト表示)
   - 申請一覧表示（チェックボックス付き）
   - 個別承認・却下
   - 一括承認機能
   - 承認者・承認日時・却下理由の記録

3. **データ一覧タブ**
   - フィルター（物件、期間）
   - 検索
   - 削除

4. **CSVエクスポートタブ**
   - フィルター
   - CSVダウンロード
   - クリップボードコピー

5. **マスター管理タブ** (v1.2.0で強化)
   - 物件一覧表示・追加・編集・削除
   - 受注先一覧表示・追加・編集・削除
   - 点検種別一覧表示・追加・編集・削除

6. **ユーザー管理タブ**
   - ユーザー一覧
   - 権限変更（user/admin）

## 未実装・改善課題

### 高優先度
1. **マスター削除時の使用中チェック**
   - 削除前にentries等で使用中かどうかを確認
   - 使用中の場合は警告表示

2. **データ一覧にステータス表示**
   - pending/approved/rejected のステータス表示
   - ステータスでのフィルタリング

### 中優先度
3. **ユーザー追加・削除**
   - ユーザー招待機能
   - ユーザー削除機能

4. **却下時のフィードバック**
   - 申請者への却下通知（メールまたはUI）
   - 却下理由の表示

### 低優先度
5. **データエクスポート改善**
   - Excel形式でのエクスポート
   - フィルター条件の保存

6. **監査ログ**
   - 誰がいつ何を承認/却下したかの履歴

## 対応ファイル
- admin.html
- js/admin.js
- js/supabase-client.js

## 変更履歴
- v1.2.0: マスターCRUD機能追加、承認ワークフロー追加
